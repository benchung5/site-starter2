{"version":3,"sources":["webpack:///./src/js/react-app/components/admin/auth/signout.js","webpack:///./src/js/react-app/components/admin/sidebar.js","webpack:///./src/js/react-app/actions/auth/index.js"],"names":["actions","Signout","props","signoutUser","Component","SideMenu","state","linkList","title","link","active","globals","ADMIN_URL","linkListClone","forEach","item","index","window","location","pathname","setState","e","map","onLinkClick","bind","renderButtons","signinUser","signupUser","clearUser","authError","fetchMessage","env","process","SERVER_URL","require","POST_CONFIG","email","password","key","dispatch","axios","post","then","response","data","token","type","AUTH_USER","localStorage","setItem","catch","error","ADD_USER","payload","err","AUTH_ERROR","removeItem","UNAUTH_USER","get","headers","authorization","getItem","FETCH_MESSAGE","message"],"mappings":"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","file":"13.react.js","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../actions/auth';\nimport Sidebar from '../sidebar'\n\nclass Signout extends Component {\n  componentWillMount() {\n    this.props.signoutUser();\n  }\n\n  render() {\n    return (\n      <div className=\"admin-main\">\n      \t<div className=\"row\">\n      \t        <Sidebar/>\n      \t        <div className=\"main-window columns small-12 large-9\">\n      \t        \tYou have been signed out\n      \t        </div>\n      \t</div>\n      </div>\n    \t)\n  }\n}\n\nexport default connect(null, actions)(Signout);\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/react-app/components/admin/auth/signout.js","import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { globals } from '../../config.js';\n\nclass SideMenu extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            linkList: [\n                { title: 'Website', link: '/', active: false },\n                { title: 'Logout', link: '/'+globals.ADMIN_URL+'/signout', active: false },\n                { title: 'Dashboard', link: '/'+globals.ADMIN_URL+'', active: false },\n                { title: 'View Articles', link: '/'+globals.ADMIN_URL+'/articles-list', active: false },\n                { title: 'Add Articles', link: '/'+globals.ADMIN_URL+'/article-add', active: false },\n                { title: 'View Plants', link: '/'+globals.ADMIN_URL+'/trees-list', active: false },\n                { title: 'Add Plants', link: '/'+globals.ADMIN_URL+'/tree-add', active: false },\n                { title: 'View Users', link: '/'+globals.ADMIN_URL+'/users-list', active: false },\n                { title: 'Add User', link: '/'+globals.ADMIN_URL+'/signup', active: false },\n                { title: 'View Categories', link: '/'+globals.ADMIN_URL+'/category-list', active: false },\n                { title: 'Add Category', link: '/'+globals.ADMIN_URL+'/category-add', active: false },\n                { title: 'Backup', link: '/'+globals.ADMIN_URL+'/backup', active: false },\n            ]\n        }\n    }\n\n\n    componentDidMount() {\n        //check url and highlight accordingly\n        let linkListClone = cloneDeep(this.state.linkList);\n        linkListClone.forEach((item, index) => {\n\n            //set all to inactive at first\n            if (item.active) {\n                item.active = false;\n            }\n            //if url path equals link, activate it\n            if (item.link === window.location.pathname) {\n                item.active = true;\n            }\n        });\n        this.setState({ linkList: linkListClone });\n    }\n\n    onLinkClick(e) {\n    }\n\n    renderButtons() {\n        return this.state.linkList.map((item, index) => {\n            //title to lowercase, replace slashes with dashes\n            return (\n                    <li key={index} className={`${item.active ? 'active' : ''}`}>\n                        <Link onClick={this.onLinkClick.bind(this)}  className={`nav-link`} to={item.link} data-id={index}>{item.title}</Link>\n                    </li>\n                )\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"columns small-12 large-3 admin-sidebar\">\n                <ul className=\"vertical menu admin-side-menu\">\n                    {this.renderButtons()}\n                </ul>\n            </div>\n        )\n    }\n\n}\n\nexport default SideMenu;\n\n\n// WEBPACK FOOTER //\n// ./src/js/react-app/components/admin/sidebar.js","import axios from 'axios';\nimport history from '../../history';\n//config\nconst env = process.env.NODE_ENV || \"development\";\nvar { SERVER_URL } = require('../../config')[env];\nvar { POST_CONFIG } = require('../../config')['globals'];\nimport {\n  AUTH_USER,\n  UNAUTH_USER,\n  AUTH_ERROR,\n  FETCH_MESSAGE,\n  ADD_USER\n} from '../types';\n\nexport function signinUser({ email, password, key }) {\n  return function(dispatch) {\n    // Submit email/password to the server\n    axios.post(`${SERVER_URL}/users/sign_in`, { email, password, key }, POST_CONFIG)\n      .then(response => {\n        // If request is good...\n        if(response.data.token) {\n          // - Update state to indicate user is authenticated\n          dispatch({ type: AUTH_USER });\n          // - Save the JWT token\n          localStorage.setItem('token', response.data.token);\n        } else {\n          // - Show an error to the user\n          dispatch(authError('Bad Login Info'));\n        }\n      })\n      .catch(() => {\n        // If request is bad...\n        // - Show an error to the user\n        dispatch(authError('Error logging in'));\n      });\n  }\n}\n\nexport function signupUser({ email, password }) {\n  return function(dispatch) {\n    axios.post(`${SERVER_URL}/users/create`, { email, password })\n      .then(response => {\n        if(response.data.error) {\n          dispatch(authError(`there was an error signing up user: ${response.data.error}`));\n        } else {\n          dispatch({\n            type: ADD_USER,\n            payload: response.data\n          });\n          //localStorage.setItem('token', response.data.token);\n        }\n      })\n      .catch(err => dispatch(authError(`there was an error signing up: ${err}`)));\n  }\n}\n\nexport function clearUser() {\n  return {\n    type: ADD_USER,\n    payload: ''\n  }\n}\n\nexport function authError(error) {\n  return {\n    type: AUTH_ERROR,\n    payload: error\n  };\n}\n\nexport function signoutUser() {\n  localStorage.removeItem('token');\n  return { type: UNAUTH_USER };\n}\n\nexport function fetchMessage() {\n  return function(dispatch) {\n    axios.get(SERVER_URL, {\n      headers: { authorization: localStorage.getItem('token') }\n    })\n      .then(response => {\n        dispatch({\n          type: FETCH_MESSAGE,\n          payload: response.data.message\n        });\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/react-app/actions/auth/index.js"],"sourceRoot":""}