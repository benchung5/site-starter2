{"version":3,"sources":["webpack:///./src/js/react-app/components/admin/trees/trees_list.js","webpack:///./src/js/react-app/components/admin/sidebar.js","webpack:///./src/js/react-app/components/admin/auth/require_auth.js","webpack:///./src/js/react-app/actions/trees/index.js"],"names":["actions","env","process","SERVER_URL","require","TreesIndex","props","state","searchTrees","dispatch","globalFilterData","event","slug","target","getAttribute","id","searchResults","offset","limit","deleteTree","parseInt","prevProps","trees","map","tree","common_name","onDeleteTreeClick","bind","globals","ADMIN_URL","renderTrees","Component","mapStateToProps","globalTrees","treeDeleted","SideMenu","linkList","title","link","active","linkListClone","forEach","item","index","window","location","pathname","setState","e","onLinkClick","renderButtons","ComposedComponent","Authentication","authenticated","history","push","nextProps","auth","fetchTrees","getTree","addTree","updateTree","clearTree","clearTreeError","clearUpdateTree","addTreeError","updateTreeError","axios","get","then","type","FETCH_TREES","payload","response","data","Promise","resolve","catch","err","console","log","category","themes","images","GET_TREE","formData","config","headers","post","error","ADD_TREE","UPDATE_TREE","search","getState","ADD_TREE_ERROR","UPDATE_TREE_ERROR"],"mappings":"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","file":"9.react.js","sourcesContent":["import React, { Component } from 'react';\nimport {connect} from 'react-redux';\nimport Sidebar from '../sidebar';\nimport { Link } from 'react-router-dom';\nimport * as actions from '../../../actions/trees';\nimport RequireAuth from '../auth/require_auth';\nimport SearchTrees from '../../search_trees';\nimport PaginationTrees from '../../parts/pagination_trees';\nimport { globals } from '../../../config.js';\nimport { searchTrees } from '../../../actions/globalTrees';\n\n//config\nconst env = process.env.NODE_ENV || \"development\";\nvar { SERVER_URL } = require('../../../config')[env];\n\nclass TreesIndex extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n        }\n    }\n\n    componentWillMount() {\n        this.searchTrees();\n    }\n\n    // componentWillReceiveProps(nextProps) {\n    //   // if newly navigated from the router link...\n    //   if((nextProps.location !== this.props.location) && nextProps.location.key) {\n    //     this.searchTrees();\n    //   }\n    // }\n\n    searchTrees() {\n        this.props.dispatch(searchTrees(this.props.globalFilterData));\n    }\n\n    onDeleteTreeClick(event) {\n        let slug = event.target.getAttribute(\"data-slug\");\n        let id = event.target.getAttribute(\"data-id\");\n        const { offset, limit } = this.props.searchResults;\n        //slug, search, offset, limit\n        //todo: get [] to use real stored search if any\n        this.props.dispatch(actions.deleteTree({id: parseInt(id), slug: slug}, [], offset, limit));\n    }\n\n    componentDidUpdate(prevProps) {\n        //fire the updated globalFilterData to the search action whenever the themes or categores get updated\n        if(this.props.globalFilterData && (prevProps.globalFilterData !==  this.props.globalFilterData)) {\n            this.searchTrees();\n        }\n    }\n    \n    renderTrees() {\n        return this.props.searchResults.trees.map((tree) => {\n            return (\n                <li className=\"list-group-item\" key={tree.id}>\n                    <span>{tree.common_name}</span>\n                    <a href=\"#\" data-id={tree.id} data-slug={tree.slug} onClick={this.onDeleteTreeClick.bind(this)}>Delete</a>\n                    <Link to={`/${globals.ADMIN_URL}/trees-list/${tree.slug}`}>edit</Link>\n                </li>\n            );\n        });\n    }\n    \n    render() {\n        return (\n            <div className=\"admin-main\">\n                <div className=\"row\">\n                    <Sidebar/>\n                    <div className=\"main-window columns small-12 large-9\">\n                        <h3>Trees</h3>\n                        <SearchTrees\n                            placeholder=\"search\"\n                            hasButton={false}\n                        />\n                        <ul className=\"list-group item-list\">\n                            {this.renderTrees()}\n                        </ul>\n                        <PaginationTrees />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    return {\n        searchResults: state.trees.searchResults,\n        globalFilterData: state.globalTrees,\n        treeDeleted: state.tree.treeDeleted,\n    };\n}\n\nexport default RequireAuth(connect(mapStateToProps)(TreesIndex));\n\n\n// WEBPACK FOOTER //\n// ./src/js/react-app/components/admin/trees/trees_list.js","import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { globals } from '../../config.js';\n\nclass SideMenu extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            linkList: [\n                { title: 'Website', link: '/', active: false },\n                { title: 'Logout', link: '/'+globals.ADMIN_URL+'/signout', active: false },\n                { title: 'Dashboard', link: '/'+globals.ADMIN_URL+'', active: false },\n                { title: 'View Articles', link: '/'+globals.ADMIN_URL+'/articles-list', active: false },\n                { title: 'Add Articles', link: '/'+globals.ADMIN_URL+'/article-add', active: false },\n                { title: 'View Plants', link: '/'+globals.ADMIN_URL+'/trees-list', active: false },\n                { title: 'Add Plants', link: '/'+globals.ADMIN_URL+'/tree-add', active: false },\n                { title: 'View Users', link: '/'+globals.ADMIN_URL+'/users-list', active: false },\n                { title: 'Add User', link: '/'+globals.ADMIN_URL+'/signup', active: false },\n                { title: 'View Categories', link: '/'+globals.ADMIN_URL+'/category-list', active: false },\n                { title: 'Add Category', link: '/'+globals.ADMIN_URL+'/category-add', active: false },\n                { title: 'Backup', link: '/'+globals.ADMIN_URL+'/backup', active: false },\n            ]\n        }\n    }\n\n\n    componentDidMount() {\n        //check url and highlight accordingly\n        let linkListClone = cloneDeep(this.state.linkList);\n        linkListClone.forEach((item, index) => {\n\n            //set all to inactive at first\n            if (item.active) {\n                item.active = false;\n            }\n            //if url path equals link, activate it\n            if (item.link === window.location.pathname) {\n                item.active = true;\n            }\n        });\n        this.setState({ linkList: linkListClone });\n    }\n\n    onLinkClick(e) {\n    }\n\n    renderButtons() {\n        return this.state.linkList.map((item, index) => {\n            //title to lowercase, replace slashes with dashes\n            return (\n                    <li key={index} className={`${item.active ? 'active' : ''}`}>\n                        <Link onClick={this.onLinkClick.bind(this)}  className={`nav-link`} to={item.link} data-id={index}>{item.title}</Link>\n                    </li>\n                )\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"columns small-12 large-3 admin-sidebar\">\n                <ul className=\"vertical menu admin-side-menu\">\n                    {this.renderButtons()}\n                </ul>\n            </div>\n        )\n    }\n\n}\n\nexport default SideMenu;\n\n\n// WEBPACK FOOTER //\n// ./src/js/react-app/components/admin/sidebar.js","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport { globals } from '../../../config.js';\n// import PropTypes from \"prop-types\";\n\n//this is a higher order component (HOC) that wraps the incomming component \n//and attaches additional functionality to it\nexport default function (ComposedComponent) {\n    class Authentication extends Component {\n\n        // comment out these two blocks to disable auth\n        //if not authenticated at start, push to the home page\n        componentWillMount() {\n            if (!this.props.authenticated) {\n                //this.context.router.push('/protected');\n                this.props.history.push('/'+globals.ADMIN_URL+'/protected');\n            }\n        } \n        //this one fires when component is updated\n        componentWillUpdate(nextProps) {\n            if (!nextProps.authenticated) {\n                //this.context.router.push('/protected');\n                this.props.history.push('/'+globals.ADMIN_URL+'/protected');\n            }\n        }\n        \n        render() {\n            //the this.props is for passing up new props from the combined component *instance to \n            //existing props on the original composed component below\n            return <ComposedComponent {...this.props} />\n        }\n    }\n    \n    function mapStateToProps(state) {\n        return {authenticated: state.auth.authenticated};\n    }\n    \n    return connect(mapStateToProps)(Authentication);\n}\n\n////example usage of this HOC\n// import Authenticatoin // this is the HOC\n// import Resources // this is the component to wraps\n// const ComposedComponent = Authentication(Resources);\n//// in some render method...\n// <ComposedComponent resources={resourceList}>\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/react-app/components/admin/auth/require_auth.js","import axios from 'axios';\nimport { searchTrees } from '../globalTrees';\n//config\nconst env = process.env.NODE_ENV || \"development\";\nvar {SERVER_URL} = require('../../config')[env];\n\n\nimport {\n    FETCH_TREES,\n    ADD_TREE,\n    UPDATE_TREE,\n    GET_TREE,\n    ADD_TREE_ERROR,\n    UPDATE_TREE_ERROR,\n    SEARCH_TREES_ADMIN\n    } from '../types';\n\nexport function fetchTrees() {\n    return function(dispatch) {\n        axios.get(`${SERVER_URL}/trees/all`)\n        .then(response => {\n\n            dispatch({\n                type: FETCH_TREES,\n                payload: response.data\n             });\n            return Promise.resolve();\n\n        })\n        .catch((err) => {\n            console.log('error fetching trees', err);\n            //todo: if request is bad\n            // dispatch(fetchTreesError('response.data.error'));\n        });\n    }\n}\n\nexport function getTree(slug) {\n    return function(dispatch) {\n        axios.get(`${SERVER_URL}/trees/single/${slug}`)\n        .then(response => {\n            //if no response data, return a formatted object\n            let data = {};\n            if (!response.data ) {\n                data = {\n                    category: [],\n                    themes: [],\n                    // make images null so we know it's an intentional clear\n                    // an empty array makes it show the placeholder image\n                    images: null\n                }\n            } else {\n                data = response.data;\n            }\n            \n            dispatch({\n                type: GET_TREE,\n                payload: data\n             });\n        })\n        .catch((err) => {\n            console.log('error getting tree: ', err);\n        });\n    }\n}\n\nexport function addTree(formData) {\n    //needed for image file submission\n    const config = {\n        headers: { 'content-type': 'multipart/form-data' }\n    }\n    return function(dispatch) {\n        axios.post( `${SERVER_URL}/trees/create`, formData, config )\n        .then( response => {\n            if(response.data.error) {\n                dispatch(addTreeError(`There was an error creating the tree: ${response.data.error}`));\n            } else {\n                dispatch({\n                    type: ADD_TREE,\n                    payload: response.data\n                });\n            }\n        })\n        .catch((err) => {\n            dispatch(addTreeError(`there was an error creating the tree: ${err}`));\n        });\n    }\n}\n\nexport function updateTree(formData) {\n    //needed for image file submission\n    const config = {\n        headers: { 'content-type': 'multipart/form-data' }\n    }\n    return function(dispatch) {\n        // post to http://192.168.99.100/api/trees/update\n        axios.post( `${SERVER_URL}/trees/update`, formData, config )\n        .then( response => {\n            if(response.data.error) {\n                dispatch(updateTreeError(`there was an error updating the tree: ${response.data.error}`));\n            } else {\n                dispatch({\n                    type: UPDATE_TREE,\n                    payload: response.data\n                });\n            }\n        })\n        .catch((err) => {\n            console.log('there was an error updating the tree: ', err);\n            //dispatch(updateTreeError(`there was an error updating the tree: ${err}`));\n        });\n    }\n}\n\nexport function deleteTree(tree, search, offset, limit) {\n        return function(dispatch, getState) {\n        // post to http://192.168.99.100/trees/delete\n        axios.post(`${SERVER_URL}/trees/delete`, { tree })\n        .then( response => {\n            if(response.data.error) {\n                console.log('error: ', response.data.error);\n                //dispatch(deleteTreeError(`there was an error deleting the tree: ${response.data.error}`));\n            } else {\n                //get the new list of trees now that one is deleted\n                //we can access the globalTrees reducer from getState (passed in above)\n                dispatch(searchTrees(getState().globalTrees));\n            }\n        })\n        .catch((err) => {\n            console.log('error deleting the tree: ', err);\n        });\n    }\n}\n\nexport function clearTree() {\n    return {\n        type: ADD_TREE,\n        payload: ''\n    }\n}\n\nexport function clearTreeError(error) {\n    return {\n        type: ADD_TREE_ERROR,\n        payload: ''\n    }\n}\n\nexport function clearUpdateTree() {\n    return {\n        type: UPDATE_TREE,\n        payload: ''\n    }\n}\n\nexport function addTreeError(error) {\n    return {\n        type: ADD_TREE_ERROR,\n        payload: error\n    }\n}\n\nexport function updateTreeError(error) {\n    return {\n        type: UPDATE_TREE_ERROR,\n        payload: error\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/react-app/actions/trees/index.js"],"sourceRoot":""}