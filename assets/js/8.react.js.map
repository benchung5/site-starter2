{"version":3,"sources":["webpack:///./src/js/react-app/components/admin/users/users_list.js","webpack:///./src/js/react-app/components/admin/sidebar.js","webpack:///./src/js/react-app/components/admin/auth/require_auth.js","webpack:///./src/js/react-app/actions/users/index.js"],"names":["actions","UsersIndex","props","fetchUsers","event","email","target","getAttribute","deleteUser","users","map","user","onDeleteUserClick","bind","renderUsers","Component","mapStateToProps","state","all","userDeleted","SideMenu","linkList","title","link","active","globals","ADMIN_URL","linkListClone","forEach","item","index","window","location","pathname","setState","e","onLinkClick","renderButtons","ComposedComponent","Authentication","authenticated","history","push","nextProps","auth","env","process","SERVER_URL","require","dispatch","axios","get","then","type","FETCH_USERS","payload","response","data","catch","console","log","err","post","error"],"mappings":"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","file":"8.react.js","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport Sidebar from '../sidebar';\nimport * as actions from '../../../actions/users';\nimport RequireAuth from '../auth/require_auth';\n\nclass UsersIndex extends Component {\n\n\tcomponentWillMount() {\n\t\tthis.props.fetchUsers();\n\t}\n\n\tonDeleteUserClick(event) {\n\t\tlet email = event.target.getAttribute(\"data-email\");\n\t\tthis.props.deleteUser({ email })\n\t}\n\n\trenderUsers() {\n\t\treturn this.props.users.map((user) => {\n\t\t\treturn (\n\t\t\t\t<li className=\"list-group-item\" key={user.email}>\n\t\t\t\t\t<span>{user.email}</span>\n\t\t\t\t\t<a href=\"#\" data-email={user.email} onClick={this.onDeleteUserClick.bind(this)}>Delete</a>\n\t\t\t\t</li>\n\t\t\t)\n\t\t});\n\t}\n\n\trender() {\n\t\t\treturn (\n\t\t\t\t<div className=\"admin-main\">\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<Sidebar/>\n\t\t\t\t\t\t<div className=\"main-window columns small-12 large-9\">\n\t\t\t\t\t\t\t<h3>Users</h3>\n\t\t\t\t\t\t\t<ul className=\"list-group item-list\">\n\t\t\t\t\t\t\t\t{this.renderUsers()}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t}\n\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tusers: state.users.all,\n        //you may not need the below, but there for now\n        userDeleted: state.user.userDeleted\n\t};\n}\n\nexport default RequireAuth(connect(mapStateToProps, actions)(UsersIndex));\n\n\n// WEBPACK FOOTER //\n// ./src/js/react-app/components/admin/users/users_list.js","import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { globals } from '../../config.js';\n\nclass SideMenu extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            linkList: [\n                { title: 'Website', link: '/', active: false },\n                { title: 'Logout', link: '/'+globals.ADMIN_URL+'/signout', active: false },\n                { title: 'Dashboard', link: '/'+globals.ADMIN_URL+'', active: false },\n                { title: 'View Articles', link: '/'+globals.ADMIN_URL+'/articles-list', active: false },\n                { title: 'Add Articles', link: '/'+globals.ADMIN_URL+'/article-add', active: false },\n                { title: 'View Plants', link: '/'+globals.ADMIN_URL+'/trees-list', active: false },\n                { title: 'Add Plants', link: '/'+globals.ADMIN_URL+'/tree-add', active: false },\n                { title: 'View Users', link: '/'+globals.ADMIN_URL+'/users-list', active: false },\n                { title: 'Add User', link: '/'+globals.ADMIN_URL+'/signup', active: false },\n                { title: 'View Categories', link: '/'+globals.ADMIN_URL+'/category-list', active: false },\n                { title: 'Add Category', link: '/'+globals.ADMIN_URL+'/category-add', active: false },\n                { title: 'Backup', link: '/'+globals.ADMIN_URL+'/backup', active: false },\n            ]\n        }\n    }\n\n\n    componentDidMount() {\n        //check url and highlight accordingly\n        let linkListClone = cloneDeep(this.state.linkList);\n        linkListClone.forEach((item, index) => {\n\n            //set all to inactive at first\n            if (item.active) {\n                item.active = false;\n            }\n            //if url path equals link, activate it\n            if (item.link === window.location.pathname) {\n                item.active = true;\n            }\n        });\n        this.setState({ linkList: linkListClone });\n    }\n\n    onLinkClick(e) {\n    }\n\n    renderButtons() {\n        return this.state.linkList.map((item, index) => {\n            //title to lowercase, replace slashes with dashes\n            return (\n                    <li key={index} className={`${item.active ? 'active' : ''}`}>\n                        <Link onClick={this.onLinkClick.bind(this)}  className={`nav-link`} to={item.link} data-id={index}>{item.title}</Link>\n                    </li>\n                )\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"columns small-12 large-3 admin-sidebar\">\n                <ul className=\"vertical menu admin-side-menu\">\n                    {this.renderButtons()}\n                </ul>\n            </div>\n        )\n    }\n\n}\n\nexport default SideMenu;\n\n\n// WEBPACK FOOTER //\n// ./src/js/react-app/components/admin/sidebar.js","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport { globals } from '../../../config.js';\n// import PropTypes from \"prop-types\";\n\n//this is a higher order component (HOC) that wraps the incomming component \n//and attaches additional functionality to it\nexport default function (ComposedComponent) {\n    class Authentication extends Component {\n\n        // comment out these two blocks to disable auth\n        //if not authenticated at start, push to the home page\n        componentWillMount() {\n            if (!this.props.authenticated) {\n                //this.context.router.push('/protected');\n                this.props.history.push('/'+globals.ADMIN_URL+'/protected');\n            }\n        } \n        //this one fires when component is updated\n        componentWillUpdate(nextProps) {\n            if (!nextProps.authenticated) {\n                //this.context.router.push('/protected');\n                this.props.history.push('/'+globals.ADMIN_URL+'/protected');\n            }\n        }\n        \n        render() {\n            //the this.props is for passing up new props from the combined component *instance to \n            //existing props on the original composed component below\n            return <ComposedComponent {...this.props} />\n        }\n    }\n    \n    function mapStateToProps(state) {\n        return {authenticated: state.auth.authenticated};\n    }\n    \n    return connect(mapStateToProps)(Authentication);\n}\n\n////example usage of this HOC\n// import Authenticatoin // this is the HOC\n// import Resources // this is the component to wraps\n// const ComposedComponent = Authentication(Resources);\n//// in some render method...\n// <ComposedComponent resources={resourceList}>\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/react-app/components/admin/auth/require_auth.js","import axios from 'axios';\n//config\nconst env = process.env.NODE_ENV || \"development\";\nvar { SERVER_URL } = require('../../config')[env];\nimport {\n    FETCH_USERS\n    } from '../types';\n\n\nexport function fetchUsers() {\n    return function(dispatch) {\n        axios.get(`${SERVER_URL}/users/all`)\n        .then(response => {\n            dispatch({\n                type: FETCH_USERS,\n                payload: response.data\n             });\n        })\n        .catch(() => {\n            console.log('error fetching users: ', err);\n        });\n    }\n}\n\nexport function deleteUser({ email }) {\n        return function(dispatch) {\n        // post to http://192.168.99.100/articles/delete\n        axios.post( `${SERVER_URL}/users/delete`, { email } )\n        .then( response => {\n            if(response.data.error) {\n                //dispatch(deleteUserError(`there was an error deleting the user: ${response.data.error}`));\n            } else {\n                dispatch(fetchUsers());\n            }\n        })\n        .catch((err) => {\n            console.log('error deleting the user: ', err);\n        });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/react-app/actions/users/index.js"],"sourceRoot":""}